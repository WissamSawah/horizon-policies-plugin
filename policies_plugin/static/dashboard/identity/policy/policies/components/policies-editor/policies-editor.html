<!-- Policies controller -->
<div ng-controller="TableController as $tblCtrl">

    <!-- Modal Header -->
    <div class="editor-modal-header">
        <h3 class="modal-title" id="modal-title">Edit policy</h3>
    </div>

    <!-- Modal Body -->
    <div class="editor-modal-body">
        <!-- Responsive editor toolbar -->
        <div class="editor-toolbar-responsive">
            <!-- Editor history button group -->
            <div class="btn-group table-settings-button" uib-dropdown auto-close="outsideClick">
                <svg-icons p="bars" title="Table settings" id="table-settings-button" uib-dropdown-toggle></svg-icons>
                <!-- Settings button drop down menu-->
                <ul class="dropdown-manage-responsive dropdown-menu-right table-settings-menu" uib-dropdown-menu role="menu" aria-labelledby="table-settings-button">

                    <!-- History buttons group -->
                    <div class="btn-group">

                        <!-- Undo button -->
                        <li>
                            <button class="btn btn-default editor-toolbar-button" type="button" title="Undo changes" ng-click="$edtCtrl.undo()">
                                <svg-icons p="undo_alt" id="undo-btn"></svg-icons>
                            </button>
                        </li>

                        <!-- Redo button -->
                        <li>
                            <button class="btn btn-default editor-toolbar-button" type="button" title="Redo changes" ng-click="$edtCtrl.redo()">
                                <svg-icons p="redo_alt" id="redo-btn"></svg-icons>
                            </button>
                        </li>
                    </div>

                    <!-- Clipboard button group -->
                    <div class="btn-group">

                        <!-- Copy button -->
                        <li>
                            <button class="btn btn-default editor-toolbar-button" type="button" title="Copy policies" ng-click="$tblCtrl.clipboardCopy($event)">
                                <svg-icons p="copy_solid" id="copy-btn"></svg-icons>
                            </button>
                        </li>

                        <!-- Paste button -->
                        <li>
                            <button class="btn btn-default editor-toolbar-button" type="button" title="Paste policies" ng-click="">
                                <svg-icons p="paste" id="paste-btn"></svg-icons>
                            </button>
                        </li>
                    </div>

                    <!-- Editor design button group -->
                    <div class="btn-group">

                        <!-- Autocomplete button -->
                        <li>
                            <button class="btn btn-default editor-toolbar-button" type="button" title="Enable/disable suggestions" ng-click="$edtCtrl.toggleAutocomplete()">
                                <svg-icons p="edit_solid" id="autocomp-btn"></svg-icons>
                            </button>
                        </li>

                        <!-- Ruler button -->
                        <li>
                            <button class="btn btn-default editor-toolbar-button" type="button" title="Show/hide line numbers" ng-click="$edtCtrl.toggleLineNumbers()">
                                <svg-icons p="ruler" id="ruler-btn"></svg-icons>
                            </button>
                        </li>
                    </div>

                    <!-- Policy file actions button group -->
                    <div class="btn-group">

                        <!-- Download button -->
                        <li>
                            <button class="btn btn-default editor-toolbar-button" type="button" title="Download policies" ng-click="$tblCtrl.downloadFile()">
                                <svg-icons p="file_download" id="download-btn"></svg-icons>
                            </button>
                        </li>

                        <!-- Upload button -->
                        <li>
                            <button class="btn btn-default toolbar-btn responsive-upload-button" type="button" ng-class="{'responsiveUploadVisible': showResponsiveUpload}" ng-model="showResponsiveUpload"
                            title="Upload from file" uib-btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0">
                                <svg-icons p="file_upload" id="upload-btn"></svg-icons>
                            </button>
                        </li>

                        <!-- Print button -->
                        <li>
                            <button class="btn btn-default editor-toolbar-button" type="button" title="Print policies" ng-click="$tblCtrl.print()">
                                <svg-icons p="print" id="print-btn"></svg-icons>
                            </button>
                        </li>
                    </div>
                </ul>
            </div>
            <!-- File upload form -->
            <div class="file-responsive-upload-form" ng-class="{'responsiveUploadVisible': showResponsiveUpload}">

                <!--File input field-->
                <input class="file-responsive-upload-input" type="file" id="responsiveUploadFile" name="responsiveUploadFile", accept=".json, application/json"/>

                <!-- Upload Button -->
                <button class="btn btn-primary file-responsive-upload-button" type="button" title="Upload" ng-click="$edtCtrl.uploadFile()">
                    <span class="fa fa-upload"></span> Upload
                </button>
            </div>
        </div>

        <!-- Desktop editor toolbar -->
        <div class="editor-toolbar" ng-class="{'rulerVisible': $edtCtrl.showRuler}">

            <!-- Editor history button group -->
            <div class="btn-group">

                <!-- Undo button -->
                <button class="btn btn-default editor-toolbar-button" id="editor-undo-button" type="button" title="Undo changes" ng-click="$edtCtrl.undo()">
                    <svg-icons p="undo_alt" id="undo-btn"></svg-icons> Undo
                </button>

                <!-- Redo button -->
                <button class="btn btn-default editor-toolbar-button" id="editor-redo-button" type="button" title="Redo changes" ng-click="$edtCtrl.redo()">
                    <svg-icons p="redo_alt" id="redo-btn"></svg-icons> Redo
                </button>

            </div>

            <!-- Clipboard button group -->
            <div class="btn-group">

                <!-- Copy button -->
                <button class="btn btn-default editor-toolbar-button" id="editor-copy-button" type="button" title="Copy policies" ng-click="$edtCtrl.clipboardCopy($event)">
                    <svg-icons p="copy_solid" id="copy-btn"></svg-icons> Copy
                </button>

                <!-- Paste button -->
                <button class="btn btn-default editor-toolbar-button" id="editor-paste-button" type="button" title="Paste policies" ng-click="">
                    <svg-icons p="paste" id="paste-btn"></svg-icons> Paste
                </button>

            </div>

            <!-- Editor design button group -->
            <div class="btn-group">

                <!-- Show/Hide suggestions button -->
                <button class="btn btn-default editor-toolbar-button"
                        id="editor-suggestions-button"
                        type="button"
                        title="Show/Hide suggestions"
                        uib-btn-checkbox
                        btn-checkbox-true="true"
                        btn-checkbox-false="false"
                        ng-model="$edtCtrl.showSuggestions"
                        ng-click="$edtCtrl.toggleSuggestionsVisibility()">
                    <svg-icons p="edit_solid" id="autocomp-btn"></svg-icons> Suggestions
                </button>

                <!-- Show/Hide line numbers button -->
                <button class="btn btn-default editor-toolbar-button"
                        id="editor-ruler-button"
                        type="button"
                        title="Show/Hide Ruler"
                        uib-btn-checkbox
                        btn-checkbox-true="true"
                        btn-checkbox-false="false"
                        ng-model="$edtCtrl.showRuler"
                        ng-click="$edtCtrl.toggleRulerVisibility()">
                    <svg-icons p="ruler" id="ruler-btn"></svg-icons> Ruler
                </button>
            </div>

            <!-- Policy file actions button group -->
            <div class="btn-group">

                <!-- Download button -->
                <button class="btn btn-default editor-toolbar-button" id="editor-download-button" type="button" title="Download policies" ng-click="$edtCtrl.downloadFile()">
                    <svg-icons p="file_download" id="download-btn"></svg-icons> Download
                </button>

                <!-- Upload button -->
                <button class="btn btn-default editor-toolbar-button upload-button" id="editor-upload-button" type="button" ng-class="{'uploadVisible': showUpload}" ng-model="showUpload"
                    title="Upload from file" uib-btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0">
                    <svg-icons p="file_upload" id="upload-btn"></svg-icons> Upload
                </button>

                <!-- Print button -->
                <button class="btn btn-default editor-toolbar-button" type="button" id="editor-print-button" title="Print policies" ng-click="$edtCtrl.print()">
                    <svg-icons p="print" id="print-btn"></svg-icons> Print
                </button>

            </div>

        </div>

        <!-- File upload form -->
        <div class="file-upload-form" ng-class="{'uploadVisible': showUpload}">
            <!--File input field-->
            <input class="file-upload-input" type="file" id="uploadFile" name="uploadFile", accept=".json, application/json"/>
            <!-- Upload Button -->
            <button class="btn btn-primary file-upload-button" type="button" title="Upload" ng-click="$edtCtrl.uploadFile()">
                <span class="fa fa-upload"></span> Upload
            </button>
        </div>

        <!-- Editor -->
        <div class="editor">

            <!-- Editor line numbers -->
            <span class="editor-line-numbers" ng-class="{'rulerVisible': $edtCtrl.showRuler}">
                <div ng-repeat="i in [].constructor($edtCtrl.nrOfLines) track by $index">{$ $index+1 $}</div>
            </span>

            <!-- Editor text area -->
            <span editor-autocomplete class="editor-field" ng-class="{'rulerVisible': $edtCtrl.showRuler}">
                <textarea class="editor-textarea editor-input" id="text-editor" ng-model="$edtCtrl.editorContent" ng-change="$edtCtrl.editorContentChanged()" spellcheck="false" ng-trim="false" autocomplete-item="$edtCtrl.autocompResults" ng-init="$edtCtrl.init()"></textarea>
            </span>

        </div>
    </div>

    <!-- Modal Footer -->
    <div class="editor-modal-footer">

        <!-- Save/Discard changes button group -->
        <div class="editor-confirm-buttons">

            <!-- Cancel Button -->
            <button class="btn btn-warning" type="button" ng-click="$edtCtrl.cancel()">
                <svg-icons p="times_circle_solid" id="cancel-btn"></svg-icons> Cancel
            </button>

            <!-- OK Button -->
            <button class="btn btn-primary mr-1" type="button" ng-click="$edtCtrl.save()">
                <svg-icons p="save_solid" id="save-btn"></svg-icons> Save
            </button>

        </div>

    </div>

</div>
